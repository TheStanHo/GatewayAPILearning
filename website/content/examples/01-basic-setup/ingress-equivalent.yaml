# Nginx Ingress Equivalent
# This is the Nginx Ingress equivalent of the Gateway API setup above
# Compare this with gatewayclass.yaml, gateway.yaml, and httproute-basic.yaml
#
# Related Documentation: Documentation/02-core-concepts.md

# Step 1: IngressClass (equivalent to GatewayClass)
apiVersion: networking.k8s.io/v1
kind: IngressClass
metadata:
  name: nginx
spec:
  controller: k8s.io/ingress-nginx
---
# Step 2: Ingress Resource (equivalent to Gateway + HTTPRoute combined)
# Note: In Nginx Ingress, the controller is deployed separately
# and the Ingress resource combines both Gateway and HTTPRoute concepts
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: my-app-ingress
  namespace: default
spec:
  # ingressClassName references the IngressClass (like GatewayClass)
  ingressClassName: nginx
  
  # rules define routing (like HTTPRoute rules)
  rules:
    # host defines hostname (like HTTPRoute hostnames)
    - host: example.com
      http:
        paths:
          # path defines path matching (like HTTPRoute matches)
          - path: /
            pathType: Prefix
            backend:
              service:
                name: my-service
                port:
                  number: 80

# Key Differences:
# 1. Nginx Ingress: Single Ingress resource for all configuration
#    Gateway API: Separate Gateway (infrastructure) and HTTPRoute (application)
# 2. Nginx Ingress: Controller deployed separately
#    Gateway API: Gateway is a Kubernetes resource
# 3. Nginx Ingress: Limited role separation
#    Gateway API: Clear separation between infrastructure and application teams

